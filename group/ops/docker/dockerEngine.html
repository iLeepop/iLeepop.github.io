<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/docs/icon/fav.png"><title>引擎 | Ilee-Docs</title><meta name="description" content="欢迎查看我的技术文档">
    <link rel="preload" href="/docs/assets/style-8f532611.css" as="style"><link rel="stylesheet" href="/docs/assets/style-8f532611.css">
    <link rel="modulepreload" href="/docs/assets/app-5539d687.js"><link rel="modulepreload" href="/docs/assets/dockerEngine.html-afc404a8.js"><link rel="modulepreload" href="/docs/assets/dockerEngine.html-9d08d46f.js"><link rel="prefetch" href="/docs/assets/index.html-00dffd4f.js" as="script"><link rel="prefetch" href="/docs/assets/logs.html-501721c3.js" as="script"><link rel="prefetch" href="/docs/assets/todo.html-561701e3.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-cc4f243b.js" as="script"><link rel="prefetch" href="/docs/assets/demo.html-7913bc60.js" as="script"><link rel="prefetch" href="/docs/assets/datapack.html-cf358527.js" as="script"><link rel="prefetch" href="/docs/assets/fabric.html-3c7e41eb.js" as="script"><link rel="prefetch" href="/docs/assets/server.html-6f3c6d18.js" as="script"><link rel="prefetch" href="/docs/assets/cli-node.html-e1948aa2.js" as="script"><link rel="prefetch" href="/docs/assets/raspberryPi.html-0a2eb538.js" as="script"><link rel="prefetch" href="/docs/assets/http.html-2b7373ec.js" as="script"><link rel="prefetch" href="/docs/assets/network.html-90079102.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-aef3f55e.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-09fd5bf7.js" as="script"><link rel="prefetch" href="/docs/assets/jsFunc.html-5a56c6d5.js" as="script"><link rel="prefetch" href="/docs/assets/jsUsed.html-c7f85ddf.js" as="script"><link rel="prefetch" href="/docs/assets/jsValue.html-fe504b22.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-c5fa3a89.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-94e58d05.js" as="script"><link rel="prefetch" href="/docs/assets/sqlInstall.html-75f8af58.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-ab873c32.js" as="script"><link rel="prefetch" href="/docs/assets/tsStart.html-40d797d2.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-be8c9290.js" as="script"><link rel="prefetch" href="/docs/assets/base.html-11d6dc2a.js" as="script"><link rel="prefetch" href="/docs/assets/start.html-73dec716.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-1d3f2c38.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-53fd045f.js" as="script"><link rel="prefetch" href="/docs/assets/Dockerfile.html-0fb604bf.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-53d97ad6.js" as="script"><link rel="prefetch" href="/docs/assets/dockerCommand.html-48311a2f.js" as="script"><link rel="prefetch" href="/docs/assets/dockerCommonServers.html-8aad5dd9.js" as="script"><link rel="prefetch" href="/docs/assets/dockerCompose.html-6d30d364.js" as="script"><link rel="prefetch" href="/docs/assets/dockerContainer.html-7b3a0224.js" as="script"><link rel="prefetch" href="/docs/assets/dockerDataPersistence.html-fc8719a9.js" as="script"><link rel="prefetch" href="/docs/assets/dockerImage.html-a0e1ffeb.js" as="script"><link rel="prefetch" href="/docs/assets/dockerNetwork.html-37a5d973.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-04b381bc.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-8533501a.js" as="script"><link rel="prefetch" href="/docs/assets/forgot.html-d6480176.js" as="script"><link rel="prefetch" href="/docs/assets/linuxDirectoryStructure.html-f9efb385.js" as="script"><link rel="prefetch" href="/docs/assets/linuxDiskManage.html-742517b9.js" as="script"><link rel="prefetch" href="/docs/assets/linuxFileBaseAttribute.html-c1bb572b.js" as="script"><link rel="prefetch" href="/docs/assets/linuxInstall.html-7512f294.js" as="script"><link rel="prefetch" href="/docs/assets/linuxStartProcess.html-350454e2.js" as="script"><link rel="prefetch" href="/docs/assets/linuxUserAndGroup.html-af206990.js" as="script"><link rel="prefetch" href="/docs/assets/linuxViVim.html-e744f9bb.js" as="script"><link rel="prefetch" href="/docs/assets/linuxYumApt.html-53ee1624.js" as="script"><link rel="prefetch" href="/docs/assets/shell.html-be29f81d.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-132b3cd0.js" as="script"><link rel="prefetch" href="/docs/assets/nginxAntiTheft.html-aae89cb3.js" as="script"><link rel="prefetch" href="/docs/assets/nginxBrotli.html-3b9d7a1f.js" as="script"><link rel="prefetch" href="/docs/assets/nginxConcatReq.html-5c33e17f.js" as="script"><link rel="prefetch" href="/docs/assets/nginxDynamicStatic.html-47951632.js" as="script"><link rel="prefetch" href="/docs/assets/nginxGZIP.html-8a6a15cd.js" as="script"><link rel="prefetch" href="/docs/assets/nginxInstall.html-279fe38e.js" as="script"><link rel="prefetch" href="/docs/assets/nginxRateLimit.html-cbdc1859.js" as="script"><link rel="prefetch" href="/docs/assets/nginxReverseProxy.html-3a7f374c.js" as="script"><link rel="prefetch" href="/docs/assets/nginxSSL.html-4183357f.js" as="script"><link rel="prefetch" href="/docs/assets/nginxServerLoadBalance.html-91b8055d.js" as="script"><link rel="prefetch" href="/docs/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-8b23da1f.js" as="script"><link rel="prefetch" href="/docs/assets/logs.html-dfb2ff76.js" as="script"><link rel="prefetch" href="/docs/assets/todo.html-3c837dfd.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-28fcbee2.js" as="script"><link rel="prefetch" href="/docs/assets/demo.html-0e281b15.js" as="script"><link rel="prefetch" href="/docs/assets/datapack.html-599235ee.js" as="script"><link rel="prefetch" href="/docs/assets/fabric.html-7e13892d.js" as="script"><link rel="prefetch" href="/docs/assets/server.html-fd5605f2.js" as="script"><link rel="prefetch" href="/docs/assets/cli-node.html-87632fd9.js" as="script"><link rel="prefetch" href="/docs/assets/raspberryPi.html-1e3b81a6.js" as="script"><link rel="prefetch" href="/docs/assets/http.html-7f6cc2c7.js" as="script"><link rel="prefetch" href="/docs/assets/network.html-ef57395d.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-68464f66.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-2736f432.js" as="script"><link rel="prefetch" href="/docs/assets/jsFunc.html-4003845f.js" as="script"><link rel="prefetch" href="/docs/assets/jsUsed.html-0abcd578.js" as="script"><link rel="prefetch" href="/docs/assets/jsValue.html-323ff8eb.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-64b9d877.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-54aa6c0e.js" as="script"><link rel="prefetch" href="/docs/assets/sqlInstall.html-a092d511.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-5c69f6f4.js" as="script"><link rel="prefetch" href="/docs/assets/tsStart.html-d1c198b1.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-c8469fa8.js" as="script"><link rel="prefetch" href="/docs/assets/base.html-0a690eca.js" as="script"><link rel="prefetch" href="/docs/assets/start.html-cc2c1223.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-9a390535.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-8f984a2a.js" as="script"><link rel="prefetch" href="/docs/assets/Dockerfile.html-1e8d3e9f.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-5db7de36.js" as="script"><link rel="prefetch" href="/docs/assets/dockerCommand.html-434a7c02.js" as="script"><link rel="prefetch" href="/docs/assets/dockerCommonServers.html-015b8392.js" as="script"><link rel="prefetch" href="/docs/assets/dockerCompose.html-12c27856.js" as="script"><link rel="prefetch" href="/docs/assets/dockerContainer.html-a32b672b.js" as="script"><link rel="prefetch" href="/docs/assets/dockerDataPersistence.html-3db0960d.js" as="script"><link rel="prefetch" href="/docs/assets/dockerImage.html-fe98489d.js" as="script"><link rel="prefetch" href="/docs/assets/dockerNetwork.html-c0ca0ce1.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-b20e8bf6.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-92570100.js" as="script"><link rel="prefetch" href="/docs/assets/forgot.html-d8698559.js" as="script"><link rel="prefetch" href="/docs/assets/linuxDirectoryStructure.html-c639bce2.js" as="script"><link rel="prefetch" href="/docs/assets/linuxDiskManage.html-8c2cecef.js" as="script"><link rel="prefetch" href="/docs/assets/linuxFileBaseAttribute.html-f9eef75b.js" as="script"><link rel="prefetch" href="/docs/assets/linuxInstall.html-a3f0c472.js" as="script"><link rel="prefetch" href="/docs/assets/linuxStartProcess.html-bffae426.js" as="script"><link rel="prefetch" href="/docs/assets/linuxUserAndGroup.html-36db5040.js" as="script"><link rel="prefetch" href="/docs/assets/linuxViVim.html-d68fe931.js" as="script"><link rel="prefetch" href="/docs/assets/linuxYumApt.html-5fd3fc48.js" as="script"><link rel="prefetch" href="/docs/assets/shell.html-8076aae1.js" as="script"><link rel="prefetch" href="/docs/assets/index.html-3fc27bec.js" as="script"><link rel="prefetch" href="/docs/assets/nginxAntiTheft.html-7478145a.js" as="script"><link rel="prefetch" href="/docs/assets/nginxBrotli.html-ebf214ad.js" as="script"><link rel="prefetch" href="/docs/assets/nginxConcatReq.html-8a7f43d5.js" as="script"><link rel="prefetch" href="/docs/assets/nginxDynamicStatic.html-74e2b885.js" as="script"><link rel="prefetch" href="/docs/assets/nginxGZIP.html-3c944ac5.js" as="script"><link rel="prefetch" href="/docs/assets/nginxInstall.html-4cdc65f1.js" as="script"><link rel="prefetch" href="/docs/assets/nginxRateLimit.html-f660d744.js" as="script"><link rel="prefetch" href="/docs/assets/nginxReverseProxy.html-df8bd979.js" as="script"><link rel="prefetch" href="/docs/assets/nginxSSL.html-9de2fb4f.js" as="script"><link rel="prefetch" href="/docs/assets/nginxServerLoadBalance.html-8d872ad2.js" as="script"><link rel="prefetch" href="/docs/assets/404.html-82235661.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/docs/" class=""><!----><span class="site-name can-hide">Ilee-Docs</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/docs/guide/" class="" aria-label="看招"><!--[--><!--]--> 看招 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="技术类"><span class="title">技术类</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="技术类"><span class="title">技术类</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Dev</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/docs/group/dev/java/" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/group/dev/javascript/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/group/dev/sql/" class="" aria-label="Sql"><!--[--><!--]--> Sql <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Ops</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/docs/group/ops/linux/" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/group/ops/nginx/" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/group/ops/docker/" class="router-link-active" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Framework</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/docs/group/fw/spring/" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/group/fw/react/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="游戏类"><span class="title">游戏类</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="游戏类"><span class="title">游戏类</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Minecraft</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/docs/game/mc/datapack.md" class="" aria-label="DataPack数据包"><!--[--><!--]--> DataPack数据包 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/game/mc/fabric.md" class="" aria-label="Fabric模组开发"><!--[--><!--]--> Fabric模组开发 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/game/mc/server.md" class="" aria-label="Server服务器"><!--[--><!--]--> Server服务器 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="关于文档"><span class="title">关于文档</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="关于文档"><span class="title">关于文档</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/about/logs.md" class="" aria-label="更新日志"><!--[--><!--]--> 更新日志 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/about/todo.md" class="" aria-label="TODO"><!--[--><!--]--> TODO <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/docs/guide/" class="" aria-label="看招"><!--[--><!--]--> 看招 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="技术类"><span class="title">技术类</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="技术类"><span class="title">技术类</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Dev</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/docs/group/dev/java/" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/group/dev/javascript/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/group/dev/sql/" class="" aria-label="Sql"><!--[--><!--]--> Sql <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Ops</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/docs/group/ops/linux/" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/group/ops/nginx/" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/group/ops/docker/" class="router-link-active" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Framework</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/docs/group/fw/spring/" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/group/fw/react/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="游戏类"><span class="title">游戏类</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="游戏类"><span class="title">游戏类</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Minecraft</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/docs/game/mc/datapack.md" class="" aria-label="DataPack数据包"><!--[--><!--]--> DataPack数据包 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/game/mc/fabric.md" class="" aria-label="Fabric模组开发"><!--[--><!--]--> Fabric模组开发 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/docs/game/mc/server.md" class="" aria-label="Server服务器"><!--[--><!--]--> Server服务器 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="关于文档"><span class="title">关于文档</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="关于文档"><span class="title">关于文档</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/about/logs.md" class="" aria-label="更新日志"><!--[--><!--]--> 更新日志 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/about/todo.md" class="" aria-label="TODO"><!--[--><!--]--> TODO <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Dev <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">Java <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/group/dev/java/" class="sidebar-item" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">JavaScript <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/group/dev/javascript/" class="sidebar-item" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/dev/javascript/jsUsed.html" class="sidebar-item" aria-label="使用"><!--[--><!--]--> 使用 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/dev/javascript/jsValue.html" class="sidebar-item" aria-label="值与变量"><!--[--><!--]--> 值与变量 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Node <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/group/dev/node/" class="sidebar-item" aria-label="Node 简介"><!--[--><!--]--> Node 简介 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Sql <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/group/dev/sql/" class="sidebar-item" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">TypeScript <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/group/dev/typescript/" class="sidebar-item" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/dev/typescript/tsStart.html" class="sidebar-item" aria-label="ababa"><!--[--><!--]--> ababa <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">Ops <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">Linux <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/group/ops/linux/" class="sidebar-item" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/linux/linuxInstall.html" class="sidebar-item" aria-label="安装"><!--[--><!--]--> 安装 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/linux/linuxStartProcess.html" class="sidebar-item" aria-label="启动过程"><!--[--><!--]--> 启动过程 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/linux/linuxDirectoryStructure.html" class="sidebar-item" aria-label="目录结构"><!--[--><!--]--> 目录结构 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/linux/linuxFileBaseAttribute.html" class="sidebar-item" aria-label="文件基本属性与管理"><!--[--><!--]--> 文件基本属性与管理 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/linux/linuxUserAndGroup.html" class="sidebar-item" aria-label="用户和用户组管理"><!--[--><!--]--> 用户和用户组管理 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/linux/linuxDiskManage.html" class="sidebar-item" aria-label="磁盘管理"><!--[--><!--]--> 磁盘管理 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/linux/linuxViVim.html" class="sidebar-item" aria-label="Vi/Vim"><!--[--><!--]--> Vi/Vim <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/linux/linuxYumApt.html" class="sidebar-item" aria-label="Yum/Apt"><!--[--><!--]--> Yum/Apt <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/linux/forgot.html" class="sidebar-item" aria-label="忘了"><!--[--><!--]--> 忘了 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/linux/shell.html" class="sidebar-item" aria-label="Shell"><!--[--><!--]--> Shell <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Nginx <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/group/ops/nginx/" class="sidebar-item" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/nginx/nginxInstall.html" class="sidebar-item" aria-label="安装"><!--[--><!--]--> 安装 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/nginx/nginxAntiTheft.html" class="sidebar-item" aria-label="防盗链"><!--[--><!--]--> 防盗链 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/nginx/nginxGZIP.html" class="sidebar-item" aria-label="GZIP压缩"><!--[--><!--]--> GZIP压缩 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/nginx/nginxBrotli.html" class="sidebar-item" aria-label="Brotli压缩"><!--[--><!--]--> Brotli压缩 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/nginx/nginxReverseProxy.html" class="sidebar-item" aria-label="反向代理"><!--[--><!--]--> 反向代理 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/nginx/nginxSSL.html" class="sidebar-item" aria-label="SSL"><!--[--><!--]--> SSL <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/nginx/nginxServerLoadBalance.html" class="sidebar-item" aria-label="负载均衡"><!--[--><!--]--> 负载均衡 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/nginx/nginxDynamicStatic.html" class="sidebar-item" aria-label="动静分离"><!--[--><!--]--> 动静分离 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/nginx/nginxConcatReq.html" class="sidebar-item" aria-label="合并请求"><!--[--><!--]--> 合并请求 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/nginx/nginxRateLimit.html" class="sidebar-item" aria-label="限流"><!--[--><!--]--> 限流 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item active collapsible">Docker <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/group/ops/docker/" class="router-link-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="引擎"><!--[--><!--]--> 引擎 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#发展历程" class="router-link-active router-link-exact-active sidebar-item" aria-label="发展历程"><!--[--><!--]--> 发展历程 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#首发版本架构" class="router-link-active router-link-exact-active sidebar-item" aria-label="首发版本架构"><!--[--><!--]--> 首发版本架构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#docker0-9-版本架构" class="router-link-active router-link-exact-active sidebar-item" aria-label="Docker0.9 版本架构"><!--[--><!--]--> Docker0.9 版本架构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#docker1-1-版本架构" class="router-link-active router-link-exact-active sidebar-item" aria-label="Docker1.1 版本架构"><!--[--><!--]--> Docker1.1 版本架构 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#docker-引擎架构" class="router-link-active router-link-exact-active sidebar-item" aria-label="Docker 引擎架构"><!--[--><!--]--> Docker 引擎架构 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#docker-client" class="router-link-active router-link-exact-active sidebar-item" aria-label="Docker Client"><!--[--><!--]--> Docker Client <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#dockerd" class="router-link-active router-link-exact-active sidebar-item" aria-label="Dockerd"><!--[--><!--]--> Dockerd <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#containerd" class="router-link-active router-link-exact-active sidebar-item" aria-label="Containerd"><!--[--><!--]--> Containerd <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#runc" class="router-link-active router-link-exact-active sidebar-item" aria-label="Runc"><!--[--><!--]--> Runc <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#shim" class="router-link-active router-link-exact-active sidebar-item" aria-label="Shim"><!--[--><!--]--> Shim <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#引擎分类" class="router-link-active router-link-exact-active sidebar-item" aria-label="引擎分类"><!--[--><!--]--> 引擎分类 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#大版本" class="router-link-active router-link-exact-active sidebar-item" aria-label="大版本"><!--[--><!--]--> 大版本 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#小版本" class="router-link-active router-link-exact-active sidebar-item" aria-label="小版本"><!--[--><!--]--> 小版本 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#安装" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装"><!--[--><!--]--> 安装 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#启停" class="router-link-active router-link-exact-active sidebar-item" aria-label="启停"><!--[--><!--]--> 启停 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#启动" class="router-link-active router-link-exact-active sidebar-item" aria-label="启动"><!--[--><!--]--> 启动 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#启动测试" class="router-link-active router-link-exact-active sidebar-item" aria-label="启动测试"><!--[--><!--]--> 启动测试 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#重启" class="router-link-active router-link-exact-active sidebar-item" aria-label="重启"><!--[--><!--]--> 重启 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#查看状态" class="router-link-active router-link-exact-active sidebar-item" aria-label="查看状态"><!--[--><!--]--> 查看状态 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#设置自启动" class="router-link-active router-link-exact-active sidebar-item" aria-label="设置自启动"><!--[--><!--]--> 设置自启动 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#取消自启动" class="router-link-active router-link-exact-active sidebar-item" aria-label="取消自启动"><!--[--><!--]--> 取消自启动 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#停止" class="router-link-active router-link-exact-active sidebar-item" aria-label="停止"><!--[--><!--]--> 停止 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#配置国内加速器" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置国内加速器"><!--[--><!--]--> 配置国内加速器 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#配置阿里云加速器" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置阿里云加速器"><!--[--><!--]--> 配置阿里云加速器 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#卸载" class="router-link-active router-link-exact-active sidebar-item" aria-label="卸载"><!--[--><!--]--> 卸载 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#移除-yum" class="router-link-active router-link-exact-active sidebar-item" aria-label="移除 yum"><!--[--><!--]--> 移除 yum <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#rm-两个目录" class="router-link-active router-link-exact-active sidebar-item" aria-label="rm 两个目录"><!--[--><!--]--> rm 两个目录 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/group/ops/docker/dockerEngine.html#删除其它配置文件" class="router-link-active router-link-exact-active sidebar-item" aria-label="删除其它配置文件"><!--[--><!--]--> 删除其它配置文件 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/docs/group/ops/docker/dockerImage.html" class="sidebar-item" aria-label="镜像"><!--[--><!--]--> 镜像 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/docker/dockerContainer.html" class="sidebar-item" aria-label="容器"><!--[--><!--]--> 容器 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/docker/dockerCommand.html" class="sidebar-item" aria-label="命令"><!--[--><!--]--> 命令 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/docker/Dockerfile.html" class="sidebar-item" aria-label="Dockerfile"><!--[--><!--]--> Dockerfile <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/docker/dockerDataPersistence.html" class="sidebar-item" aria-label="数据持久化"><!--[--><!--]--> 数据持久化 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/docker/dockerNetwork.html" class="sidebar-item" aria-label="网络"><!--[--><!--]--> 网络 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/docker/dockerCompose.html" class="sidebar-item" aria-label="Compose"><!--[--><!--]--> Compose <!--[--><!--]--></a><!----></li><li><a href="/docs/group/ops/docker/dockerCommonServers.html" class="sidebar-item" aria-label="常用服务器安装"><!--[--><!--]--> 常用服务器安装 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Git <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/group/ops/git/" class="sidebar-item" aria-label="又tm忘了"><!--[--><!--]--> 又tm忘了 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Anaconda <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/group/ops/anaconda/" class="sidebar-item" aria-label="Anaconda"><!--[--><!--]--> Anaconda <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Framework <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">Spring <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/group/fw/spring/" class="sidebar-item" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">React <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/group/fw/react/" class="sidebar-item" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/fw/react/start.html" class="sidebar-item" aria-label="开始"><!--[--><!--]--> 开始 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/fw/react/base.html" class="sidebar-item" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Protocol <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">HTTP/HTTPS <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/group/protocol/http.html" class="sidebar-item" aria-label="HTTP 协议"><!--[--><!--]--> HTTP 协议 <!--[--><!--]--></a><!----></li><li><a href="/docs/group/protocol/network.html" class="sidebar-item" aria-label="Network"><!--[--><!--]--> Network <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">other? <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">CLI <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/group/other/cli-node.html" class="sidebar-item" aria-label="CLI Node"><!--[--><!--]--> CLI Node <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">Embedded <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/group/other/raspberryPi.html" class="sidebar-item" aria-label="Raspberry Pi"><!--[--><!--]--> Raspberry Pi <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="引擎" tabindex="-1"><a class="header-anchor" href="#引擎" aria-hidden="true">#</a> 引擎</h1><h2 id="发展历程" tabindex="-1"><a class="header-anchor" href="#发展历程" aria-hidden="true">#</a> 发展历程</h2><h3 id="首发版本架构" tabindex="-1"><a class="header-anchor" href="#首发版本架构" aria-hidden="true">#</a> 首发版本架构</h3><p>Docker 在首次发布时，其引擎由两个<strong>核心组件</strong>构成：</p><ol><li>LXC(Linux Container)</li><li>Docker Daemon。</li></ol><p>不过，该架构依赖于 LXC，使得 Docker 存在严重的问题：</p><ul><li>依赖于外部工具，对 Docker 来说，存在着巨大的生存风险</li><li>LXC 使得 Docker 无法实现跨平台</li></ul><p>Docker Daemon 的“大而全”也带来了严重的问题：</p><ul><li>版本更新与功能扩展较难</li><li>运行较慢，带来性能问题</li><li>Docker Daemon 运行出现问题，会直接影响容器的运行</li><li>不符合软件哲学</li></ul><h3 id="docker0-9-版本架构" tabindex="-1"><a class="header-anchor" href="#docker0-9-版本架构" aria-hidden="true">#</a> Docker0.9 版本架构</h3><p>从 Docker0.8 版本开始，Docker 使用自研的 Libcontainer 工具替换了 LXC。</p><h3 id="docker1-1-版本架构" tabindex="-1"><a class="header-anchor" href="#docker1-1-版本架构" aria-hidden="true">#</a> Docker1.1 版本架构</h3><p>2017 年 7 月 OCI 基金会发布了两个规范（镜像规范与容器运行时规范）的 OCI1.0 版本。2016 年底发布的 Docker1.1 版本基本遵循了 OCI1.0 版本。</p><p>从 Docker1.1 版本开始，Docker Daemon 中不再包含任何容器运行时代码，而是将容器运行时单独剥离了出来，形成了 Runc 项目。</p><h2 id="docker-引擎架构" tabindex="-1"><a class="header-anchor" href="#docker-引擎架构" aria-hidden="true">#</a> Docker 引擎架构</h2><p>Docker 引擎是用来运行和管理容器的核心软件，其现代架构由四部分主要组件构成：</p><ol><li>Docker Client</li><li>Dockerd</li><li>Containerd</li><li>Runc</li></ol><div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li>Docker Client：用户提交 Docker 命令</li><li>Dockerd：负责 REST API、处理镜像相关命令、网络、容器编排等。</li><li>Containerd：负责容器生命周期管理(负责处理容器相关的命令)，但不负责创建容器。当 docker run 命令到来时会 fork 出 Runc 与 Shim 两个进程。</li><li>Runc：负责创建容器进程，容器创建并启动完毕后，Runc 将容器进程交付给 Shim 进程管理，然后自己退出。</li><li>Shim：负责将容器与 Docker Daemon 进行解耦。</li></ul></div><h3 id="docker-client" tabindex="-1"><a class="header-anchor" href="#docker-client" aria-hidden="true">#</a> Docker Client</h3><p>Docker 客户端，Docker 引擎提供的 CLI 工具，用于用户向 Docker 提交命令请求。</p><h3 id="dockerd" tabindex="-1"><a class="header-anchor" href="#dockerd" aria-hidden="true">#</a> Dockerd</h3><p>Dockerd，即 Docker Daemon。在现代 Dockerd 中的主要包含的功能有镜像构建、镜像管理、REST API、核心网络及编排等。其通过 gRPC 与 Containerd 进行通信。</p><h3 id="containerd" tabindex="-1"><a class="header-anchor" href="#containerd" aria-hidden="true">#</a> Containerd</h3><p>Containerd，即 Container Daemon，该项目的主要功能是管理容器的生命周期。不过，其本身并不会去创建容器，而是调用 Runc 来完成容器的创建。</p><p>Docker 公司后来将 Containerd 项目捐献给了 CNCF（云原生基金会）。</p><h3 id="runc" tabindex="-1"><a class="header-anchor" href="#runc" aria-hidden="true">#</a> Runc</h3><p>Runc，Run Container，是 OCI（开放容器倡议基金会）容器运行时规范的实现，Runc 项目的目标之一就是与 OCI 规范保持一致。所以，Runc 所在层也称为 OCI 层。这使得 DockerDaemon 中不用再包含任何容器运行时的代码了，简化了 Docker Daemon。</p><p>Runc 只有一个作用—创建容器，其本质是一个独立的容器运行时 CLI 工具。其在 fork 出一个容器子进程后会启动该容器进程。在容器进程启动完毕后，Runc 会自动退出。</p><h3 id="shim" tabindex="-1"><a class="header-anchor" href="#shim" aria-hidden="true">#</a> Shim</h3><p>Shim（垫片）是实现“Daemonless Container（无 Docker Daemon 与 Container Daemon 容器）”不可或缺的工具，使容器与 Docker Daemon 解耦，使得 Docker Daemon 的维护与升级不会影响到运行中的容器。</p><p>每次创建容器时，Containerd 同时会 fork 出 Runc 进程与 Shim 进程。当 Runc 自动退出之前，会先将新容器进程的父进程指定为相应的 Shim 进程。</p><p>除了作为容器的父进程外，Shim 进程还具有两个重要功能：</p><ul><li>保持所有 STDIN 与 STDOUT 流的开启状态，从而使得当 Docker Daemon 重启时，容器不会因为 Pipe 的关闭而终止。</li><li>将容器的退出状态反馈给 Docker Daemon。</li></ul><h2 id="引擎分类" tabindex="-1"><a class="header-anchor" href="#引擎分类" aria-hidden="true">#</a> 引擎分类</h2><p>在安装 Docker 之前需要先了解 Docker 官方对其版本的分类。Docker 的版本分为大版本与小版本。</p><h3 id="大版本" tabindex="-1"><a class="header-anchor" href="#大版本" aria-hidden="true">#</a> 大版本</h3><p>Docker 从大版本来说，分为三类：Moby、社区版 Docker-CE（Community Edition）和企业版 Docker-EE（Enterprise Edition）。</p><h3 id="小版本" tabindex="-1"><a class="header-anchor" href="#小版本" aria-hidden="true">#</a> 小版本</h3><p>从 v1.13.1 之后，Docker 的发布计划发生了变更，每个大版本下都出现了两个小版本 Edge 月版与 Stable 季版。不过，现在的官网中一般只能看到 Stable 版本。</p><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h3><p>Docker 可以安装在 Windows、Linux、Mac 等系统中，但生产环境下，服务器使用 Linux 中的 CentOS 居多，所以下面就以 Docker 在 CentOS7 中的安装为例来学习 Docker 的安装。官网 https://docs.docker.com/engine/install/centos/中可以看到具体安装方式与安装步骤。</p><h2 id="启停" tabindex="-1"><a class="header-anchor" href="#启停" aria-hidden="true">#</a> 启停</h2><p>Docker 是以服务的形式运行在系统中，所以使用 systemctl 来对其进行各种操作。</p><h3 id="启动" tabindex="-1"><a class="header-anchor" href="#启动" aria-hidden="true">#</a> 启动</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl start <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="启动测试" tabindex="-1"><a class="header-anchor" href="#启动测试" aria-hidden="true">#</a> 启动测试</h3><p>为了验证 Docker 安装启动成功，一般有两种方式</p><h4 id="docker-version" tabindex="-1"><a class="header-anchor" href="#docker-version" aria-hidden="true">#</a> docker version</h4><p>docker version 命令可以看到当前 docker 的版本信息，主要包括 Docker 的 Client 与 Server 的信息。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="运行-hello-world-镜像" tabindex="-1"><a class="header-anchor" href="#运行-hello-world-镜像" aria-hidden="true">#</a> 运行 hello-world 镜像</h4><p>可以通过运行 hello-world 镜像来验证 Docker 的安装启动成功。当前宿主机中不存在 hello-world 镜像的，会先下载，然后运行。</p><p>如果看到如下输出，则说明 Docker 已经安装启动成功了。如果看不到如下结果，一般都是因为下载超时，需要先配置国内加速器。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run hello-world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="重启" tabindex="-1"><a class="header-anchor" href="#重启" aria-hidden="true">#</a> 重启</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl restart <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="查看状态" tabindex="-1"><a class="header-anchor" href="#查看状态" aria-hidden="true">#</a> 查看状态</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl status <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="设置自启动" tabindex="-1"><a class="header-anchor" href="#设置自启动" aria-hidden="true">#</a> 设置自启动</h3><p>通过 systemctl start docker 命令仅可以开启 Docker 服务，但每次开机后，都需要开启。</p><p>可以通过 systemctl enalbe docker 命令将 Docker 服务设置为开机自启动服务，即开机后 Docker 服务无需再开启，其本身就是开启状态。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl enalbe <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>此时再查看 Docker 的状态，可以看到原来的 disabled 变为了 enabled，说明当前 Docker 服务已经变为了开机自启动。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl status <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="取消自启动" tabindex="-1"><a class="header-anchor" href="#取消自启动" aria-hidden="true">#</a> 取消自启动</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl disable <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="停止" tabindex="-1"><a class="header-anchor" href="#停止" aria-hidden="true">#</a> 停止</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl stop <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="配置国内加速器" tabindex="-1"><a class="header-anchor" href="#配置国内加速器" aria-hidden="true">#</a> 配置国内加速器</h2><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>本 part 非本人操作记录 以后做补充 仅作参考</p></div><p>国内镜像中心常用的为阿里云与网易云。在本地 Docker 中指定要使用的国内加速器地址后，就可以直接从国内镜像中心下载镜像了。</p><h3 id="配置阿里云加速器" tabindex="-1"><a class="header-anchor" href="#配置阿里云加速器" aria-hidden="true">#</a> 配置阿里云加速器</h3><h4 id="找到相应页面" tabindex="-1"><a class="header-anchor" href="#找到相应页面" aria-hidden="true">#</a> 找到相应页面</h4><p>若要配置阿里云加速器，必须首先要有阿里云的账号。</p><p>登录阿里云后，打开阿里云的容器镜像服务页面，执行相应的命令。</p><h4 id="创建-docker-目录" tabindex="-1"><a class="header-anchor" href="#创建-docker-目录" aria-hidden="true">#</a> 创建 docker 目录</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="修改-daemon-json-文件" tabindex="-1"><a class="header-anchor" href="#修改-daemon-json-文件" aria-hidden="true">#</a> 修改 daemon.json 文件</h5><p>在文件末尾添加指定的内容。</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><strong>注意</strong> 该 json 数据中的 URL 地址是与用户登录账号绑定的，不同的用户所生成的地址是不同的。</p></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#建议用vim 以下并非本人操作记录 建议网上了解一下 经供参考</span>
<span class="token function">tee</span> /etc/docker/deamon.json <span class="token operator">&lt;&lt;-</span> <span class="token string">&#39;EOF&#39;</span>
<span class="token operator">&gt;</span><span class="token punctuation">{</span>
<span class="token operator">&gt;</span>	<span class="token string">&quot;registry-mirrors&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;http://*****.mirror.aliyuncs.com&quot;</span><span class="token punctuation">]</span>
<span class="token operator">&gt;</span><span class="token punctuation">}</span>
<span class="token operator">&gt;</span> EOF
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="重新加载服务配置文件" tabindex="-1"><a class="header-anchor" href="#重新加载服务配置文件" aria-hidden="true">#</a> 重新加载服务配置文件</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl daemon-reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="重启-docker-引擎" tabindex="-1"><a class="header-anchor" href="#重启-docker-引擎" aria-hidden="true">#</a> 重启 docker 引擎</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl restart <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="卸载" tabindex="-1"><a class="header-anchor" href="#卸载" aria-hidden="true">#</a> 卸载</h2><h3 id="移除-yum" tabindex="-1"><a class="header-anchor" href="#移除-yum" aria-hidden="true">#</a> 移除 yum</h3><p>通过 yum remove 移除 docker 安装的四个组件。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum remove docker-ce docker-ce-cli containerd.io docker-compose-plugin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="rm-两个目录" tabindex="-1"><a class="header-anchor" href="#rm-两个目录" aria-hidden="true">#</a> rm 两个目录</h3><p>通过 rm –rf 删除/var/lib 下的 docker 与 containerd 两个目录。这两个目录中存放着镜像、容器、数据卷，它们在前面删除时不能被自动删除，需要手动删除。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>~<span class="token punctuation">]</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/docker
~<span class="token punctuation">]</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/containerd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除其它配置文件" tabindex="-1"><a class="header-anchor" href="#删除其它配置文件" aria-hidden="true">#</a> 删除其它配置文件</h3><p>自己编辑、定义的配置文件，需要自己手工删除。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: zihao02325@gmail.com">iLeepop</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/docs/group/ops/docker/" class="router-link-active" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a></span><span class="next"><a href="/docs/group/ops/docker/dockerImage.html" class="" aria-label="镜像"><!--[--><!--]--> 镜像 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/docs/assets/app-5539d687.js" defer></script>
  </body>
</html>
